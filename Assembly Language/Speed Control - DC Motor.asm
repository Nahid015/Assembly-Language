ORG 000H
DRC BIT P2.7
CLC BIT P2.2
UP BIT P2.0
DOWN BIT P2.1

MAIN:
CLR P1.0
CLR P1.1
CLR P1.2
SETB DRC
SETB CLC
SETB UP
SETB DOWN

TWENTY5:
SETB P1.0
JNB DRC,CLCTWENTY5
CLR P1.1
SETB P1.2
MOV R0,#25
LCALL DELAY
CLR P1.0
MOV R0,#75
LCALL DELAY
JNB UP,FIFTY

SJMP TWENTY5

CLCTWENTY5:
SETB P1.0

SETB P1.1
CLR P1.2
MOV R0,#25
LCALL DELAY
CLR P1.0
MOV R0,#75
LCALL DELAY
JNB UP,CLCFIFTY
JNB CLC,TWENTY5
SJMP CLCTWENTY5

FIFTY:
SETB P1.0

CLR P1.1
SETB P1.2
MOV R0,#50
LCALL DELAY
CLR P1.0
MOV R0,#50
LCALL DELAY
JNB UP,SEVENTY5
JNB DOWN,TWENTY5
JNB DRC,CLCFIFTY
SJMP FIFTY

CLCFIFTY:
SETB P1.0

SETB P1.1
CLR P1.2
MOV R0,#50
LCALL DELAY
CLR P1.0
MOV R0,#50
LCALL DELAY
JNB UP,CLCSEVENTY5
JNB DOWN,CLCTWENTY5
JNB CLC,FIFTY
SJMP CLCFIFTY

SEVENTY5:
SETB P1.0

CLR P1.1
SETB P1.2
MOV R0,#75
LCALL DELAY
CLR P1.0
MOV R0,#25
LCALL DELAY
JNB UP,HUNDRED
JNB DOWN,FIFTY
JNB DRC,CLCSEVENTY5
SJMP SEVENTY5

CLCSEVENTY5:
SETB P1.0

SETB P1.1
CLR P1.2
MOV R0,#75
LCALL DELAY
CLR P1.0
MOV R0,#25
LCALL DELAY
JNB UP,CLCHUNDRED
JNB DOWN,CLCFIFTY
JNB CLC,SEVENTY5
SJMP CLCSEVENTY5

HUNDRED:
SETB P1.0

CLR P1.1
SETB P1.2
MOV R0,#100
LCALL DELAY
;CLR P1.0
;MOV R0,#0
;LCALL DELAY
JNB DOWN,SEVENTY5
JNB DRC,CLCHUNDRED
SJMP HUNDRED

CLCHUNDRED:
SETB P1.0

SETB P1.1
CLR P1.2
MOV R0,#100
LCALL DELAY
;CLR P1.0
;MOV R0,#0
;LCALL DELAY
JNB DOWN,CLCSEVENTY5
JNB CLC,HUNDRED
SJMP CLCHUNDRED


DELAY:
L1: MOV R1,#20
L2: MOV R2,#100
L3: DJNZ R2,L3
    DJNZ R1,L2
    DJNZ R0,L1
    RET 
    
END    